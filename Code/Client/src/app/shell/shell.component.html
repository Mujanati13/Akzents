<div class="flex h-screen bg-white overflow-hidden">
  <app-preloader *ngIf="isLoading" message="Initializing application..."></app-preloader>

  <!-- Sidebar (desktop) -->
  <aside class="hidden md:block w-[260px] text-white transition-all duration-300 ease-in-out">
    <app-sidebar></app-sidebar>
  </aside>

  <!-- Mobile Sidebar Overlay -->
  <div
    [ngClass]="{ 'opacity-100 pointer-events-auto': isSidebarActive, 'opacity-0 pointer-events-none': !isSidebarActive }"
    class="fixed inset-0 bg-black/20 z-30 md:hidden transition-opacity duration-300"
    (click)="toggleSidebar()"
  ></div>

  <!-- Mobile Sidebar -->
  <aside
    [ngClass]="{ 'translate-x-0': isSidebarActive, '-translate-x-full': !isSidebarActive }"
    class="fixed top-0 left-0 h-full w-64 bg-gray-900 text-white z-40 md:hidden transform transition-transform duration-300 ease-in-out"
  >
    <app-sidebar></app-sidebar>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 flex flex-col overflow-hidden">
    <!-- Header -->
    <header class="bg-white z-10">
      <app-header (sidebarToggle)="toggleSidebar()"></app-header>
    </header>

    <!-- Content Area -->
    <div class="flex-1 overflow-y-auto pt-4 px-4 lg:px-8 relative">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>
